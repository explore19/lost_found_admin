{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-57db153d\"],{\"02f4\":function(e,t,n){var r=n(\"4588\"),o=n(\"be13\");e.exports=function(e){return function(t,n){var i,a,c=String(o(t)),s=r(n),u=c.length;return s<0||s>=u?e?\"\":void 0:(i=c.charCodeAt(s),i<55296||i>56319||s+1===u||(a=c.charCodeAt(s+1))<56320||a>57343?e?c.charAt(s):i:e?c.slice(s,s+2):a-56320+(i-55296<<10)+65536)}}},\"0390\":function(e,t,n){\"use strict\";var r=n(\"02f4\")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},\"0bfb\":function(e,t,n){\"use strict\";var r=n(\"cb7c\");e.exports=function(){var e=r(this),t=\"\";return e.global&&(t+=\"g\"),e.ignoreCase&&(t+=\"i\"),e.multiline&&(t+=\"m\"),e.unicode&&(t+=\"u\"),e.sticky&&(t+=\"y\"),t}},2017:function(e,t,n){\"use strict\";var r=n(\"b12d\"),o=n.n(r);o.a},\"214f\":function(e,t,n){\"use strict\";n(\"b0c5\");var r=n(\"2aba\"),o=n(\"32e9\"),i=n(\"79e5\"),a=n(\"be13\"),c=n(\"2b4c\"),s=n(\"520a\"),u=c(\"species\"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:\"7\"},e},\"7\"!==\"\".replace(e,\"$<a>\")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n=\"ab\".split(e);return 2===n.length&&\"a\"===n[0]&&\"b\"===n[1]}();e.exports=function(e,t,n){var p=c(e),f=!i((function(){var t={};return t[p]=function(){return 7},7!=\"\"[e](t)})),g=f?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},\"split\"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[p](\"\"),!t})):void 0;if(!f||!g||\"replace\"===e&&!l||\"split\"===e&&!d){var h=/./[p],v=n(a,p,\"\"[e],(function(e,t,n,r,o){return t.exec===s?f&&!o?{done:!0,value:h.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),m=v[0],b=v[1];r(String.prototype,e,m),o(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},\"28a5\":function(e,t,n){\"use strict\";var r=n(\"aae3\"),o=n(\"cb7c\"),i=n(\"ebd6\"),a=n(\"0390\"),c=n(\"9def\"),s=n(\"5f1b\"),u=n(\"520a\"),l=n(\"79e5\"),d=Math.min,p=[].push,f=\"split\",g=\"length\",h=\"lastIndex\",v=4294967295,m=!l((function(){RegExp(v,\"y\")}));n(\"214f\")(\"split\",2,(function(e,t,n,l){var b;return b=\"c\"==\"abbc\"[f](/(b)*/)[1]||4!=\"test\"[f](/(?:)/,-1)[g]||2!=\"ab\"[f](/(?:ab)*/)[g]||4!=\".\"[f](/(.?)(.?)/)[g]||\".\"[f](/()()/)[g]>1||\"\"[f](/.?/)[g]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);var i,a,c,s=[],l=(e.ignoreCase?\"i\":\"\")+(e.multiline?\"m\":\"\")+(e.unicode?\"u\":\"\")+(e.sticky?\"y\":\"\"),d=0,f=void 0===t?v:t>>>0,m=new RegExp(e.source,l+\"g\");while(i=u.call(m,o)){if(a=m[h],a>d&&(s.push(o.slice(d,i.index)),i[g]>1&&i.index<o[g]&&p.apply(s,i.slice(1)),c=i[0][g],d=a,s[g]>=f))break;m[h]===i.index&&m[h]++}return d===o[g]?!c&&m.test(\"\")||s.push(\"\"):s.push(o.slice(d)),s[g]>f?s.slice(0,f):s}:\"0\"[f](void 0,0)[g]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,o,r):b.call(String(o),n,r)},function(e,t){var r=l(b,e,this,t,b!==n);if(r.done)return r.value;var u=o(e),p=String(this),f=i(u,RegExp),g=u.unicode,h=(u.ignoreCase?\"i\":\"\")+(u.multiline?\"m\":\"\")+(u.unicode?\"u\":\"\")+(m?\"y\":\"g\"),x=new f(m?u:\"^(?:\"+u.source+\")\",h),w=void 0===t?v:t>>>0;if(0===w)return[];if(0===p.length)return null===s(x,p)?[p]:[];var y=0,k=0,_=[];while(k<p.length){x.lastIndex=m?k:0;var C,E=s(x,m?p:p.slice(k));if(null===E||(C=d(c(x.lastIndex+(m?0:k)),p.length))===y)k=a(p,k,g);else{if(_.push(p.slice(y,k)),_.length===w)return _;for(var R=1;R<=E.length-1;R++)if(_.push(E[R]),_.length===w)return _;k=y=C}}return _.push(p.slice(y)),_}]}))},\"2fc8\":function(e,t,n){\"use strict\";var r=n(\"ebbe\"),o=n.n(r);o.a},3846:function(e,t,n){n(\"9e1e\")&&\"g\"!=/./g.flags&&n(\"86cc\").f(RegExp.prototype,\"flags\",{configurable:!0,get:n(\"0bfb\")})},\"520a\":function(e,t,n){\"use strict\";var r=n(\"0bfb\"),o=RegExp.prototype.exec,i=String.prototype.replace,a=o,c=\"lastIndex\",s=function(){var e=/a/,t=/b*/g;return o.call(e,\"a\"),o.call(t,\"a\"),0!==e[c]||0!==t[c]}(),u=void 0!==/()??/.exec(\"\")[1],l=s||u;l&&(a=function(e){var t,n,a,l,d=this;return u&&(n=new RegExp(\"^\"+d.source+\"$(?!\\\\s)\",r.call(d))),s&&(t=d[c]),a=o.call(d,e),s&&a&&(d[c]=d.global?a.index+a[0].length:t),u&&a&&a.length>1&&i.call(a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a}),e.exports=a},\"5f1b\":function(e,t,n){\"use strict\";var r=n(\"23c6\"),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if(\"function\"===typeof n){var i=n.call(e,t);if(\"object\"!==typeof i)throw new TypeError(\"RegExp exec method returned something other than an Object or null\");return i}if(\"RegExp\"!==r(e))throw new TypeError(\"RegExp#exec called on incompatible receiver\");return o.call(e,t)}},\"6b54\":function(e,t,n){\"use strict\";n(\"3846\");var r=n(\"cb7c\"),o=n(\"0bfb\"),i=n(\"9e1e\"),a=\"toString\",c=/./[a],s=function(e){n(\"2aba\")(RegExp.prototype,a,e,!0)};n(\"79e5\")((function(){return\"/a/b\"!=c.call({source:\"a\",flags:\"b\"})}))?s((function(){var e=r(this);return\"/\".concat(e.source,\"/\",\"flags\"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)})):c.name!=a&&s((function(){return c.call(this)}))},7571:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o})),n.d(t,\"b\",(function(){return i})),n.d(t,\"d\",(function(){return a})),n.d(t,\"c\",(function(){return c}));var r=n(\"b775\");function o(){return Object(r[\"a\"])({url:\"/uschool/book\",method:\"get\"})}function i(){return Object(r[\"a\"])({url:\"/uschool/code\",method:\"get\"})}function a(e){return Object(r[\"a\"])({url:\"/uschool/make_question\",method:\"post\",params:e})}function c(){return Object(r[\"a\"])({url:\"/uschool/task\",method:\"get\"})}},\"9ed6\":function(e,t,n){\"use strict\";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"login-container\"},[n(\"el-form\",{ref:\"loginForm\",staticClass:\"login-form\",attrs:{model:e.loginForm,rules:e.loginRules,\"auto-complete\":\"on\",\"label-position\":\"left\"}},[n(\"div\",{staticClass:\"title-container\"},[n(\"h3\",{staticClass:\"title\"},[e._v(\"百宝袋\")])]),e._v(\" \"),n(\"el-form-item\",{attrs:{prop:\"username\"}},[n(\"span\",{staticClass:\"svg-container\"},[n(\"svg-icon\",{attrs:{\"icon-class\":\"user\"}})],1),e._v(\" \"),n(\"el-input\",{ref:\"username\",attrs:{placeholder:\"请输入U校园账号\",name:\"username\",type:\"text\",tabindex:\"1\",\"auto-complete\":\"on\"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,\"username\",t)},expression:\"loginForm.username\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{prop:\"password\"}},[n(\"span\",{staticClass:\"svg-container\"},[n(\"svg-icon\",{attrs:{\"icon-class\":\"password\"}})],1),e._v(\" \"),n(\"el-input\",{key:e.passwordType,ref:\"password\",attrs:{type:e.passwordType,placeholder:\"请输入U校园密码\",name:\"password\",tabindex:\"2\",\"auto-complete\":\"on\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,\"password\",t)},expression:\"loginForm.password\"}}),e._v(\" \"),n(\"span\",{staticClass:\"show-pwd\",on:{click:e.showPwd}},[n(\"svg-icon\",{attrs:{\"icon-class\":\"password\"===e.passwordType?\"eye\":\"eye-open\"}})],1)],1),e._v(\" \"),e.need_code?n(\"div\",[n(\"el-input\",{ref:\"code\",staticClass:\"t\",staticStyle:{width:\"45%\",\"margin-bottom\":\"15px\"},attrs:{type:\"text\",placeholder:\"请输入验证码\",name:\"code\",maxlength:4},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,\"code\",t)},expression:\"loginForm.code\"}}),e._v(\" \"),n(\"img\",{staticStyle:{\"margin-left\":\"6%\",\"margin-top\":\"-1%\",cursor:\"pointer\"},attrs:{height:\"43\",src:\"data:image/png;base64,\"+e.img},on:{click:e.handleClickCode}})],1):e._e(),e._v(\" \"),n(\"el-button\",{staticStyle:{width:\"100%\",\"margin-bottom\":\"30px\"},attrs:{loading:e.loading,type:\"primary\"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(\"登陆\")])],1)],1)},o=[],i=(n(\"96cf\"),n(\"3b8d\")),a=(n(\"28a5\"),n(\"6b54\"),n(\"7571\")),c={name:\"Login\",data:function(){return{loginForm:{username:\"13347634837\",password:\"q123456\",code:\"\",cg:\"\",invite_code:\"\"},loginRules:{username:[{required:!0,trigger:\"blur\"}],password:[{required:!0,trigger:\"blur\"}]},loading:!1,passwordType:\"password\",img:\"\",need_code:!1,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){this.loginForm.invite_code=this.getQueryVariable(\"invite_code\")},methods:{getQueryVariable:function(e){for(var t=document.location.toString(),n=t.split(\"?\")[1],r=n.split(\"&\"),o=0;o<r.length;o++){var i=r[o].split(\"=\");if(i[0]===e)return i[1]}return\"\"},showPwd:function(){var e=this;\"password\"===this.passwordType?this.passwordType=\"\":this.passwordType=\"password\",this.$nextTick((function(){e.$refs.password.focus()}))},handleClickCode:function(){var e=this;Object(a[\"b\"])().then((function(t){0===t.status&&(e.loginForm.cg=t.data.cg,e.img=t.data.img)}))},handleLogin:function(){var e=Object(i[\"a\"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.loginForm.validate((function(e){if(!e)return console.log(\"error submit!!\"),!1;t.loading=!0,t.$store.dispatch(\"user/login\",t.loginForm).then((function(e){3===e.status&&Object(a[\"b\"])().then((function(e){0===e.status&&(t.loginForm.cg=e.data.cg,t.img=e.data.img,t.need_code=!0)})),1===e.status&&t.need_code&&t.handleClickCode(),t.$router.push({path:t.redirect||\"/\"}),t.loading=!1})).catch((function(){t.loading=!1}))}));case 1:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},s=c,u=(n(\"2017\"),n(\"2fc8\"),n(\"2877\")),l=Object(u[\"a\"])(s,r,o,!1,null,\"7d23b221\",null);t[\"default\"]=l.exports},aae3:function(e,t,n){var r=n(\"d3f4\"),o=n(\"2d95\"),i=n(\"2b4c\")(\"match\");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:\"RegExp\"==o(e))}},b0c5:function(e,t,n){\"use strict\";var r=n(\"520a\");n(\"5ca1\")({target:\"RegExp\",proto:!0,forced:r!==/./.exec},{exec:r})},b12d:function(e,t,n){},ebbe:function(e,t,n){}}]);","extractedComments":[]}