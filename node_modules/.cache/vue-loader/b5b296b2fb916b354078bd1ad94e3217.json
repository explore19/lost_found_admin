{"remainingRequest":"F:\\工作2\\新建文件夹 (2)\\autoComplete\\vue-admin-template\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\工作2\\新建文件夹 (2)\\autoComplete\\vue-admin-template\\vue-admin-template\\src\\views\\coin\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\工作2\\新建文件夹 (2)\\autoComplete\\vue-admin-template\\vue-admin-template\\src\\views\\coin\\index.vue","mtime":1573971842221},{"path":"F:\\工作2\\新建文件夹 (2)\\autoComplete\\vue-admin-template\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\工作2\\新建文件夹 (2)\\autoComplete\\vue-admin-template\\vue-admin-template\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\工作2\\新建文件夹 (2)\\autoComplete\\vue-admin-template\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\工作2\\新建文件夹 (2)\\autoComplete\\vue-admin-template\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\工作2\\新建文件夹 (2)\\autoComplete\\vue-admin-template\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport { recharge,check } from '@/api/card'\nimport { mapGetters } from 'vuex'\nimport { MessageBox } from 'element-ui';\nexport default {\n  name: 'Coin',\n  data() {\n    return {\n      form: {\n        card_name: '',\n        card_passwd: '',\n      },\n      rules: {\n        card_name: [{ required: true, message: '请输入卡号', trigger: 'blur' }],\n        card_passwd: [{ required: true, message: '请输入卡密', trigger: 'blur' }]\n      }\n    }\n  },\n  created() {\n    this.requestData()\n  }, computed: {\n    ...mapGetters([\n      'coin',\n      'name'\n    ])\n  },\n  methods: {\n    onSubmit() {\n      this.$refs['form'].validate((valid) => {\n        if (valid) {\n          recharge(this.form).then((res) => {\n            this.$message({\n              message: res.msg,\n              type: 'success'\n            })\n            this.form={\n                card_name: '',\n                card_passwd: '',\n              }\n            this.requestData()\n          })\n        } else {\n          return false\n        }\n      })\n    },\n    requestData() {\n      this.$store.dispatch('user/getCoin')\n    },\n    checkCard(){\n      if(this.form.card_name === ''){\n           this.$message({\n              message: \"卡号不能为空\",\n              type:'warning'\n            })\n            return\n      }\n      check({card_name:this.form.card_name}).then((res)=>{\n            if(res.status===1){\n              if(res.data.card_status===0){\n                  this.$alert('该卡未使用')\n               }else if(res.data.card_status===1){\n                  this.$alert('该卡已使用')\n               }else{\n                   this.$alert('金币卡不存在')\n               }\n            }else{\n              this.$message({\n                message:'查询失败',\n                type:'error'\n              })\n            }\n      })\n\n    }\n  }\n}\n",null]}