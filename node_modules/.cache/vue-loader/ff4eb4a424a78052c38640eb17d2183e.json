{"remainingRequest":"F:\\Python\\autoComplete\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Python\\autoComplete\\vue-admin-template\\src\\views\\coin\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Python\\autoComplete\\vue-admin-template\\src\\views\\coin\\index.vue","mtime":1572237558135},{"path":"F:\\Python\\autoComplete\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\Python\\autoComplete\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Python\\autoComplete\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n\r\nimport { recharge, getInfo } from '@/api/user'\r\nexport default {\r\n  name: 'Coin',\r\n  data() {\r\n    return {\r\n      form: {\r\n        card_name: '',\r\n        card_password: '',\r\n        operate: 1\r\n      },\r\n      rules: {\r\n        card_name: [{ required: true, message: '请选择卡号', trigger: 'blur' }],\r\n        card_password: [{ required: true, message: '请选择卡密', trigger: 'blur' }]\r\n      },\r\n      user: {\r\n        user_invited_tick: 0,\r\n        coin: 0\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.requestData()\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      this.$refs['form'].validate((valid) => {\r\n        if (valid) {\r\n          recharge(this.form).then((res) => {\r\n            this.$message({\r\n              message: res.msg,\r\n              type: 'success'\r\n            })\r\n            this.form={\r\n                card_name: '',\r\n                card_password: '',\r\n                operate: 1\r\n              }\r\n            this.requestData()\r\n          })\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    requestData() {\r\n      getInfo().then(res => {\r\n        const user = eval('(' + res.data + ')')\r\n        this.user.coin = user.user_money\r\n        this.user.user_invited_tick = user.user_invited_tick\r\n        this.$store.dispatch('user/getInfo')\r\n      })\r\n    }\r\n  }\r\n}\r\n",null]}